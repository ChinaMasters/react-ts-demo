<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app">
      <button onclick="customResize()">btn</button>
    </div>
    <script>
      var event = document.createEvent("HTMLEvents");
      event.initEvent("resize", true, true);
      window.onresize = function () {
        console.log("触发成功1");
      };
      window.addEventListener("resize", function () {
        console.log("触发成功2");
      });

      //自定义事件
      var app = document.getElementById("app");
      var myEvent = document.createEvent("HTMLEvents");
      myEvent.data = "Hello world";
      myEvent.initEvent("myOwnEvent", true, true);
      app.addEventListener(
        "myOwnEvent",
        function (e) {
          console.log("我是自定义事件");
          console.log(e.data);
        },
        false
      );

      function customResize() {
        window.dispatchEvent(event);
        app.dispatchEvent(myEvent);
      }
    </script>
  </body>
</html>
